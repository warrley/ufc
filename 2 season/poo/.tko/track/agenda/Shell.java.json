{
    "patches": [
        {
            "label": "2025-09-04_17-32-12",
            "content": "@@ -1723,17 +1723,16 @@\n ontact%3E(\n-0\n );%0A     \n@@ -2026,742 +2026,118 @@\n     \n-for(int i = 0; i %3C contacts.size(); i++) %7B%0A                if(contacts.get(i).name.equals(name)) %7B%0A                    return i;%0A                %7D%0A            %7D%0A            return -1;%0A        %7D%0A        %0A        public void addContact(String name, ArrayList%3CFone%3E fones) %7B%0A            int index = findPosByName(name);%0A            if(index == -1) %7B%0A                Contact cnt = new Contact(name);%0A                // cnt.fones = fones; -%3E %C3%A9 uma boa pratica?%0A                for(int i = 0; i %3C fones.size(); i++) %7B%0A                    cnt.addFone(fones.get(i).getId(), fones.get(i).getNumber());%0A                %7D%0A                contacts.add(cnt);%0A            %7D else %7B%0A                contacts.get(index).fones.add(null);%0A            %7D%0A\n+return 0;%0A        %7D%0A        %0A        public void addContact(String name, ArrayList%3CFone%3E fones) %7B%0A            \n %0A   \n",
            "lines": "192"
        },
        {
            "label": "2025-09-04_17-46-06",
            "content": "@@ -1024,32 +1024,35 @@\n %0A               \n+ //\n  var name = args\n@@ -1072,328 +1072,56 @@\n     \n-    agenda.contacts.remove(agenda.findPosByName(name));%0A            %7D%0A            else if (args%5B0%5D.equals(%22favs%22)) %7B%0A                ArrayList%3CContact%3E cnts = agenda.getFavorited();%0A%0A                for(int i = 0; i %3C cnts.size(); i++) %7B%0A                    System.out.println(cnts.get(i).toString());%0A                %7D%0A\n+%7D%0A            else if (args%5B0%5D.equals(%22favs%22)) %7B\n %0A   \n@@ -1251,32 +1251,35 @@\n %0A               \n+ //\n  var name = args\n@@ -1294,24 +1294,27 @@\n             \n+ //\n  var index =\n@@ -1345,87 +1345,8 @@\n %5D);%0A\n-                agenda.contacts.get(agenda.findPosByName(name)).rmFone(index);%0A\n     \n@@ -1417,16 +1417,19 @@\n         \n+ //\n  var nam\n@@ -1445,91 +1445,8 @@\n 1%5D;%0A\n-                agenda.contacts.get(agenda.findPosByName(name)).toggleFavorited();%0A\n     \n@@ -1908,15 +1908,8 @@\n ng()\n- + %22%5Cn%22\n ;%0A  \n@@ -2344,54 +2344,8 @@\n e);%0A\n-            Contact cnt = new Contact(name);%0A%0A\n     \n@@ -2361,17 +2361,17 @@\n f(index \n-!\n+=\n = -1) %7B%0A\n@@ -2390,104 +2390,45 @@\n     \n-cnt = contacts.get(index);%0A                contacts.remove(contacts.size() - 1\n+Contact cnt = new Contact(name\n );%0A    \n-        %7D%0A%0A\n     \n@@ -2483,32 +2483,36 @@\n ca?%0A            \n+    \n for(int i = 0; i\n@@ -2551,16 +2551,20 @@\n         \n+ \n+   \n cnt.addF\n@@ -2620,35 +2620,42 @@\n ));%0A            \n-%7D%0A%0A\n+    %7D%0A    \n             cont\n@@ -2669,16 +2669,105 @@\n d(cnt);%0A\n+            %7D else %7B%0A                contacts.get(index).fones.add(null);%0A            %7D%0A%0A\n         \n@@ -2931,45 +2931,8 @@\n     \n-contacts.remove(findPosByName(name));\n %0A   \n@@ -3097,222 +3097,8 @@\n ) %7B%0A\n-            ArrayList%3CContact%3E cntsfv = new ArrayList%3CContact%3E();%0A            for(int i = 0; i %3C contacts.size(); i++) %7B%0A                if(contacts.get(i).isFavorited()) cntsfv.add(contacts.get(i));%0A            %7D%0A\n     \n@@ -3116,14 +3116,12 @@\n urn \n-cntsfv\n+null\n ;%0A  \n",
            "lines": "208"
        },
        {
            "label": "2025-09-04_18-23-00",
            "content": "@@ -1275,16 +1275,23 @@\n (int i =\n+ 0; i %3C\n  cnts.si\n@@ -1294,33 +1294,21 @@\n s.size()\n- - 1; i %3E= 0; i--\n+; i++\n ) %7B%0A    \n@@ -2246,16 +2246,23 @@\n (int i =\n+ 0; i %3C\n  contact\n@@ -2273,25 +2273,13 @@\n ze()\n- - 1; i %3E= 0; i--\n+; i++\n ) %7B%0A\n",
            "lines": "223"
        },
        {
            "label": "2025-09-04_18-24-37",
            "content": "@@ -25,33 +25,8 @@\n st;%0A\n-import java.util.Arrays;%0A\n impo\n@@ -1272,30 +1272,44 @@\n for(\n-Contact contact : cnts\n+int i = cnts.size() - 1; i %3E= 0; i--\n ) %7B%0A\n@@ -1348,22 +1348,26 @@\n rintln(c\n-o\n nt\n-act\n+s.get(i)\n .toStrin\n@@ -2248,34 +2248,48 @@\n for(\n-Contact contact : contacts\n+int i = contacts.size() - 1; i %3E= 0; i--\n ) %7B%0A\n@@ -2317,16 +2317,24 @@\n  contact\n+s.get(i)\n .toStrin\n@@ -3043,25 +3043,40 @@\n for(\n-Fone fone : fones\n+int i = 0; i %3C fones.size(); i++\n ) %7B%0A\n@@ -3103,24 +3103,32 @@\n addFone(fone\n+s.get(i)\n .getId(), fo\n@@ -3125,24 +3125,32 @@\n etId(), fone\n+s.get(i)\n .getNumber()\n@@ -3499,512 +3499,19 @@\n     \n-ArrayList%3CContact%3E tmp = new ArrayList%3CContact%3E(0);%0A%0A            for(Contact contact : contacts) %7B%0A                if(contact.getName().contains(pattern)) %7B%0A                    tmp.add(contact);%0A                    continue;%0A                %7D%0A%0A                for(Fone fone : contact.fones) %7B%0A                    if(fone.getNumber().contains(pattern)) %7B%0A                        tmp.add(contact);%0A                        break;%0A                    %7D%0A                %7D%0A            %7D%0A%0A            return tmp\n+return null\n ;%0A  \n@@ -3656,34 +3656,43 @@\n for(\n-Contact contact : contacts\n+int i = 0; i %3C contacts.size(); i++\n ) %7B%0A\n@@ -3717,16 +3717,24 @@\n (contact\n+s.get(i)\n .isFavor\n@@ -3759,16 +3759,24 @@\n (contact\n+s.get(i)\n );%0A     \n",
            "lines": "223"
        },
        {
            "label": "2025-09-04_18-40-32",
            "content": "@@ -2933,17 +2933,17 @@\n ize() - \n-2\n+1\n );%0A     \n",
            "lines": "240"
        },
        {
            "label": "2025-09-04_18-43-04",
            "content": "@@ -2898,19 +2898,16 @@\n         \n- //\n  contact\n",
            "lines": "240"
        },
        {
            "label": "2025-09-04_18-43-54",
            "content": "@@ -2890,32 +2890,35 @@\n %0A               \n+ //\n  contacts.remove\n@@ -2936,17 +2936,17 @@\n ize() - \n-1\n+2\n );%0A     \n",
            "lines": "240"
        },
        {
            "label": "2025-09-04_18-44-22",
            "content": "@@ -2930,16 +2930,20 @@\n s.size()\n+ - 1\n );%0A     \n",
            "lines": "240"
        },
        {
            "label": "2025-09-04_18-44-38",
            "content": "@@ -2934,12 +2934,8 @@\n ze()\n- - 1\n );%0A \n",
            "lines": "240"
        },
        {
            "label": "2025-09-04_18-44-46",
            "content": "@@ -2933,17 +2933,17 @@\n ize() - \n-2\n+1\n );%0A     \n",
            "lines": "240"
        },
        {
            "label": "2025-09-04_18-46-16",
            "content": "@@ -2313,32 +2313,39 @@\n ntact.toString()\n+ + %22%5Cn%22\n ;%0A            %7D%0A\n@@ -2940,36 +2940,8 @@\n  2);\n- // pula 2 pra pegar o certo\n %0A   \n",
            "lines": "240"
        },
        {
            "label": "2025-09-04_18-47-06",
            "content": "@@ -2255,85 +2255,37 @@\n for(\n-int i = 0; i %3C contacts.size(); i++) %7B%0A                if(i != 0) sb += %22%5Cn%22;\n+Contact contact : contacts) %7B\n %0A   \n@@ -2310,24 +2310,16 @@\n  contact\n-s.get(i)\n .toStrin\n",
            "lines": "240"
        },
        {
            "label": "2025-09-04_18-48-52",
            "content": "@@ -1465,215 +1465,8 @@\n ) %7B%0A\n-                String pr = args%5B1%5D;%0A                agenda.search(pr);%0A                for(Contact contact : agenda.contacts) %7B%0A                    System.out.println(contact.toString());%0A                %7D%0A\n     \n",
            "lines": "241"
        },
        {
            "label": "2025-09-04_18-51-18",
            "content": "@@ -1516,39 +1516,8 @@\n     \n-  ArrayList%3CContact%3E contacts =\n   ag\n@@ -1563,32 +1563,39 @@\n ntact contact : \n+agenda.\n contacts) %7B%0A    \n",
            "lines": "246"
        },
        {
            "label": "2025-09-04_18-54-18",
            "content": "@@ -1105,22 +1105,50 @@\n nda.\n-rmC\n+c\n ontact\n-(name\n+s.remove(agenda.findPosByName(name)\n );%0A \n@@ -1866,37 +1866,32 @@\n      agenda.\n-getC\n+c\n ontacts\n-()\n .get(agenda.\n@@ -2046,29 +2046,24 @@\n  agenda.\n-getC\n+c\n ontacts\n-()\n .get(age\n@@ -4618,189 +4618,20 @@\n     \n-ArrayList%3CContact%3E contacts = new ArrayList%3CContact%3E();%0A%0A            for(Contact contact : this.contacts) %7B%0A                contacts.add(contact);%0A            %7D%0A%0A            \n return \n+this.\n cont\n",
            "lines": "246"
        },
        {
            "label": "2025-09-04_19-01-41",
            "content": "@@ -2424,86 +2424,8 @@\n ) %7B%0A\n-            contacts.sort((c1, c2) -%3E c1.getName().compareTo(c2.getName()));%0A%0A\n     \n",
            "lines": "252"
        },
        {
            "label": "2025-12-22_09-52-11",
            "content": "@@ -2431,19 +2431,16 @@\n         \n- //\n  contact\n",
            "lines": "254"
        },
        {
            "label": "2025-12-22_09-53-08",
            "content": "@@ -2423,32 +2423,35 @@\n () %7B%0A           \n+ //\n  contacts.sort((\n",
            "lines": "254"
        },
        {
            "label": "2025-12-22_09-53-36",
            "content": "@@ -2431,19 +2431,16 @@\n         \n- //\n  contact\n",
            "lines": "254"
        },
        {
            "label": "2025-12-22_09-56-45",
            "content": "@@ -2423,32 +2423,35 @@\n () %7B%0A           \n+ //\n  contacts.sort((\n",
            "lines": "254"
        },
        {
            "label": "2025-12-22_09-57-36",
            "content": "import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Shell {\n\n    static Scanner scanner = new Scanner(System.in);\n    public static void main(String[] _args) {\n        Agenda agenda = new Agenda();\n\n        while (true) {\n            String line = scanner.nextLine();\n            System.out.println(\"$\" + line);\n            String[] args = line.split(\" \");\n            \n            if (args[0].equals(\"end\")) {\n                break;\n            }\n            else if (args[0].equals(\"add\")) {\n                ArrayList<Fone> fones = new ArrayList<Fone>();\n                for (int i = 2; i < args.length; i++) {\n                    String[] fone = args[i].split(\":\");\n                    fones.add(new Fone(fone[0], fone[1]));\n                }\n                String name = args[1];\n                agenda.addContact(name, fones);\n            }\n            else if (args[0].equals(\"show\")) {\n                System.out.println(agenda.toString());\n            }\n            else if (args[0].equals(\"rm\")) {\n                var name = args[1];\n                agenda.rmContact(name);\n            }\n            else if (args[0].equals(\"favs\")) {\n                ArrayList<Contact> cnts = agenda.getFavorited();\n\n                for(Contact contact : cnts) {\n                    System.out.println(contact.toString());\n                }\n\n            }\n            else if (args[0].equals(\"search\")) {\n                String pr = args[1];\n                ArrayList<Contact> contacts =  agenda.search(pr);\n                for(Contact contact : contacts) {\n                    System.out.println(contact.toString());\n                }\n            }\n            else if (args[0].equals(\"rmFone\"))  {\n                var name = args[1];\n                var index = Integer.parseInt(args[2]);\n                agenda.getContacts().get(agenda.findPosByName(name)).rmFone(index);\n            }\n            else if (args[0].equals(\"tfav\")) {\n                var name = args[1];\n                agenda.getContacts().get(agenda.findPosByName(name)).toggleFavorited();\n            }\n            else {\n                System.out.println(\"fail: invalid command\");\n            }\n        }\n    }\n\n    static class Agenda {\n        private ArrayList<Contact> contacts;\n        \n        public Agenda() {\n            this.contacts = new ArrayList<Contact>(0);\n        }\n\n        public String toString() {\n            contacts.sort((c1, c2) -> c1.getName().compareTo(c2.getName()));\n\n            String sb = \"\";\n            for(int i = 0; i < contacts.size(); i++) {\n                if(i != 0) sb += \"\\n\";\n                sb += contacts.get(i).toString();\n            }\n\n            return sb;\n        }\n        \n        public int findPosByName(String name) {\n            for(int i = 0; i < contacts.size(); i++) {\n                if(contacts.get(i).name.equals(name)) {\n                    return i;\n                }\n            }\n            return -1;\n        }\n        \n        public void addContact(String name, ArrayList<Fone> fones) {\n            int index = findPosByName(name);\n            Contact cnt = new Contact(name);\n\n            if(index != -1) {\n                cnt = contacts.get(index);\n                contacts.remove(contacts.size() - 2); // pula 2 pra pegar o certo\n            }\n\n            // cnt.fones = fones; -> \u00e9 uma boa pratica?\n            for(Fone fone : fones) {\n                cnt.addFone(fone.getId(), fone.getNumber());\n            }\n\n            contacts.add(cnt);\n        }\n        \n        public Contact getContact(String name) {\n            return null;\n        }\n        \n        public void rmContact(String name) {\n            contacts.remove(findPosByName(name));\n        }\n        \n        public ArrayList<Contact> search(String pattern) {\n            ArrayList<Contact> tmp = new ArrayList<Contact>(0);\n\n            for(Contact contact : contacts) {\n                if(contact.getName().contains(pattern)) {\n                    tmp.add(contact);\n                    continue;\n                }\n\n                for(Fone fone : contact.fones) {\n                    if(fone.getNumber().contains(pattern)) {\n                        tmp.add(contact);\n                        break;\n                    }\n                }\n            }\n\n            return tmp;\n        }\n\n        public ArrayList<Contact> getFavorited() {\n            ArrayList<Contact> cntsfv = new ArrayList<Contact>();\n            for(Contact contact : contacts) {\n                if(contact.isFavorited()) cntsfv.add(contact);\n            }\n            return cntsfv;\n        }\n\n        public ArrayList<Contact> getContacts() {\n            ArrayList<Contact> contacts = new ArrayList<Contact>();\n\n            for(Contact contact : this.contacts) {\n                contacts.add(contact);\n            }\n\n            return contacts;\n        }\n        \n    }\n\n    static class Contact {\n        private boolean favorited;\n        private ArrayList<Fone> fones;\n        private String name;\n\n        public Contact(String name) {\n            this.name = name;\n            this.favorited = false;\n            this.fones = new ArrayList<Fone>(0);\n        }\n\n        public String toString() {\n            String tel = \"[\";\n            for(int i = 0; i < fones.size(); i++) {\n                if(i != 0) tel += \", \";\n                tel += fones.get(i).toString();\n            }\n            tel += \"]\";\n            return String.format(\"%c %s %s\", (isFavorited()) ? '@' : '-', getName(), tel);\n        }\n\n        public void addFone(String id, String number) {\n            Fone fone = new Fone(id, number);\n            if(!fone.isValid()) {\n                System.out.println(\"fail: invalid number\");\n                return;\n            }\n            fones.add(fone);\n        }\n        \n        public void rmFone(int id) {\n            fones.remove(id);\n        }\n\n        public void toggleFavorited() {\n            favorited = !favorited;\n        }\n\n        public boolean isFavorited() {\n            return this.favorited;\n        }\n\n        public ArrayList<Fone> getFones() {\n            return this.fones;\n        }\n\n        public String getName() {\n            return this.name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        \n    }\n\n    static class Fone {\n        private String id;\n        private String number;\n\n        public Fone(String id, String number) {\n            this.id = id;\n            this.number = number;\n        }\n\n        public String toString() {\n            return String.format(\"%s:%s\", getId(), getNumber());\n        }\n\n        public boolean isValid() {\n            char[] c = getNumber().toCharArray();\n            for(int i = 0; i < getNumber().length(); i++) {\n                if(!((c[i] >= '0' && c[i] <= '9') || c[i] == '(' || c[i] == ')' || c[i] == '.')) {\n                    return false;\n                } \n            }\n            return true;\n        }\n\n        public String getId() {\n            return this.id;\n        }\n\n        public void setId(String id) {\n            this.id = id;\n        }\n\n        public String getNumber() {\n            return this.number;\n        }\n\n        public void setNumber(String number) {\n            this.number = number;\n        }\n    }\n}\n",
            "lines": "254"
        }
    ]
}